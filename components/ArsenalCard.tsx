'use client'

import { useEffect, useRef } from 'react'
import gsap from 'gsap'
import GlassCard from './GlassCard'
import { FaLinux, FaPython, FaAws } from 'react-icons/fa'

const TOOLS = [
    { name: 'Linux', icon: LinuxIcon },
    { name: 'Python', icon: PythonIcon },
    { name: 'Bash', icon: BashIcon },
    { name: 'AWS', icon: AWSIcon },
    { name: 'Git', icon: GitIcon },
    { name: 'Burp Suite', icon: BurpIcon },
    { name: 'Wireshark', icon: WiresharkIcon },
    { name: 'Metasploit', icon: MetasploitIcon },
]

export default function ArsenalCard() {
    const trackRef = useRef<HTMLDivElement>(null)

    useEffect(() => {
        if (!trackRef.current) return

        const track = trackRef.current
        const totalWidth = track.scrollWidth / 2

        gsap.to(track, {
            x: -totalWidth,
            duration: 25,
            ease: 'none',
            repeat: -1,
        })
    }, [])

    return (
        <GlassCard className="col-span-1 row-span-1 overflow-hidden">
            {/* Header */}
            <div className="flex items-center gap-2 mb-5">
                <div className="w-2 h-2 rounded-full bg-cyber-green" />
                <span className="text-xs font-mono tracking-wider uppercase text-white/50">
                    THE ARSENAL
                </span>
            </div>

            {/* Marquee */}
            <div className="relative overflow-hidden">
                {/* Fade edges */}
                <div className="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-[rgba(10,10,10,0.8)] to-transparent z-10" />
                <div className="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-[rgba(10,10,10,0.8)] to-transparent z-10" />

                <div ref={trackRef} className="marquee-track">
                    {/* Duplicate for seamless loop */}
                    {[...TOOLS, ...TOOLS].map((tool, i) => (
                        <div key={i} className="flex flex-col items-center gap-2 min-w-[64px]">
                            <div className="w-10 h-10 md:w-12 md:h-12 flex items-center justify-center text-white/60 hover:text-cyber-green transition-colors">
                                <tool.icon />
                            </div>
                            <span className="text-[9px] font-mono text-white/30 whitespace-nowrap">
                                {tool.name}
                            </span>
                        </div>
                    ))}
                </div>
            </div>
        </GlassCard>
    )
}

/* ═══════════════════════════════════════
   SVG Icons
   ═══════════════════════════════════════ */

function LinuxIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M12.503 0c-.155 0-.315.008-.48.029-4.417.56-3.456 6.07-3.37 6.5.143.71.333 1.39.585 2.027.083.212.18.426.263.636l.14.326c.075.198.135.4.175.61a1.63 1.63 0 01-.042.553c-.08.256-.216.478-.39.667-.17.183-.374.327-.595.437-.195.098-.402.18-.614.245-.212.064-.43.114-.645.164-.536.125-1.08.256-1.538.556-.46.302-.837.73-1.049 1.254-.213.526-.257 1.12-.123 1.674.134.558.435 1.06.856 1.434.397.355.89.592 1.41.717.26.063.525.1.79.115-.006.092-.013.184-.013.278 0 .36.053.71.153 1.04.12.39.31.76.567 1.07.258.31.582.557.95.723.37.165.784.25 1.202.25.42 0 .834-.085 1.207-.25.374-.167.7-.417.96-.728.26-.312.454-.683.576-1.077.1-.322.15-.664.154-1.012.26-.016.52-.05.77-.113.52-.126 1.012-.363 1.408-.717.42-.375.72-.876.855-1.434.134-.555.09-1.148-.123-1.674-.212-.524-.59-.952-1.05-1.254-.457-.3-1-.43-1.536-.556-.215-.05-.433-.1-.645-.164-.212-.065-.42-.147-.614-.245-.22-.11-.426-.254-.596-.437-.174-.19-.31-.41-.39-.667a1.629 1.629 0 01-.042-.553c.04-.21.1-.412.176-.61l.14-.326c.082-.21.18-.424.262-.636.252-.637.442-1.316.585-2.028.036-.18.05-.32.058-.44.14-.888.23-4.238-1.7-5.63A3.372 3.372 0 0012.503 0zm-.006 1.05c.376 0 .693.074.96.204.79.393 1.28 1.3 1.502 2.47-.034.14-.09.406-.172.92-.114.71-.3 1.358-.54 1.962-.082.21-.176.418-.256.622l-.143.333c-.085.226-.156.454-.206.7-.05.247-.078.51-.06.78.02.27.09.54.217.784.127.244.305.455.52.627.214.17.46.3.72.394.223.082.453.145.683.2.23.055.46.104.68.164.44.118.84.267 1.126.478.286.21.468.48.576.81.108.33.103.716-.014 1.08-.116.362-.347.69-.664.943-.317.254-.722.432-1.163.538-.444.104-.926.134-1.38.108-.003-.085-.01-.17-.023-.255a3.014 3.014 0 00-.09-.38 2.56 2.56 0 00-.517-.89 2.14 2.14 0 00-.39-.34c.26-.168.47-.4.607-.68.156-.316.22-.675.19-1.035-.03-.36-.15-.71-.348-1.01-.2-.302-.474-.546-.797-.713.078-.173.148-.35.2-.537.05-.176.08-.356.094-.54.07-.02.14-.04.21-.06.334-.11.647-.278.91-.508.264-.23.476-.518.618-.842.087-.2.15-.41.186-.626.66.18 1.4.72 1.476 2.146.01.165.006.342-.012.51-.06.585-.218 1.132-.442 1.603-.075.158-.212.352-.335.53-.07.103-.074.108-.106.168-.065.12-.133.26-.2.372a1.13 1.13 0 00-.14.612c.016.23.09.447.217.634-.07-.013-.143-.024-.217-.03-.43-.035-.878.07-1.237.308-.36.237-.62.59-.745 1-.124.408-.106.85.05 1.25.158.4.45.743.826.972.375.23.826.34 1.28.305.456-.034.896-.21 1.24-.504.027-.023.05-.048.076-.072-.052.328-.14.638-.278.918-.2.406-.488.748-.843 1.003-.354.255-.77.42-1.21.483-.44.063-.897.02-1.32-.128s-.81-.4-1.12-.72c-.313-.32-.555-.71-.697-1.14-.1-.296-.15-.607-.156-.92.262-.017.52-.054.773-.116.52-.126 1.012-.363 1.408-.717.42-.375.72-.876.855-1.434.134-.555.09-1.148-.123-1.674-.212-.524-.59-.952-1.05-1.254-.457-.3-1-.43-1.536-.556-.215-.05-.433-.1-.645-.164-.212-.065-.42-.147-.614-.245-.22-.11-.426-.254-.596-.437-.174-.19-.31-.41-.39-.667a1.629 1.629 0 01-.042-.553c.04-.21.1-.412.176-.61" />
        </svg>
    )
}

function PythonIcon() {
    return (
        <svg viewBox="0 0 256 255" className="w-8 h-8" fill="currentColor">
            <path d="M126.916.072c-64.832 0-60.784 28.115-60.784 28.115l.072 29.128h61.868v8.745H41.631S.145 61.355.145 126.77c0 65.417 36.21 63.097 36.21 63.097h21.61v-30.356s-1.165-36.21 35.632-36.21h61.362s34.475.557 34.475-33.319V33.97S194.67.072 126.916.072zM92.802 19.66a11.12 11.12 0 0111.13 11.13 11.12 11.12 0 01-11.13 11.13 11.12 11.12 0 01-11.13-11.13 11.12 11.12 0 0111.13-11.13z" />
            <path d="M128.757 254.126c64.832 0 60.784-28.115 60.784-28.115l-.072-29.127H127.6v-8.745h86.441s41.486 4.705 41.486-60.712c0-65.416-36.21-63.096-36.21-63.096h-21.61v30.355s1.165 36.21-35.632 36.21h-61.362s-34.475-.557-34.475 33.32v56.013s-5.235 33.897 62.518 33.897zm34.114-19.586a11.12 11.12 0 01-11.13-11.13 11.12 11.12 0 0111.13-11.131 11.12 11.12 0 0111.13 11.13 11.12 11.12 0 01-11.13 11.13z" />
        </svg>
    )
}

function BashIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M4 20q-.825 0-1.413-.588T2 18V6q0-.825.588-1.413T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.588 1.413T20 20H4zm0-2h16V8H4v10zm4-2h4v-1.5H8V16zm-2.5-3l3-3-3-3-.7.7L7.1 10l-2.3 2.3.7.7z" />
        </svg>
    )
}

function AWSIcon() {
    return (
        <svg viewBox="0 0 256 153" className="w-8 h-8" fill="currentColor">
            <path d="M72.392 55.438c0 3.137.34 5.68.933 7.545a45.373 45.373 0 002.712 6.103c.424.678.593 1.356.593 1.865 0 .814-.508 1.627-1.61 2.44l-5.34 3.56c-.763.508-1.526.763-2.203.763-.848 0-1.695-.424-2.543-1.187a26.224 26.224 0 01-3.051-3.984c-.848-1.44-1.695-3.052-2.627-5.002-6.612 7.798-14.92 11.698-24.922 11.698-7.12 0-12.8-2.035-16.953-6.103-4.153-4.07-6.272-9.495-6.272-16.276 0-7.205 2.543-13.054 7.714-17.462 5.17-4.408 12.037-6.612 20.768-6.612 2.882 0 5.849.254 8.985.678 3.137.424 6.358 1.102 9.749 1.865V29.33c0-6.443-1.356-10.935-3.984-13.563-2.712-2.628-7.29-3.899-13.817-3.899-2.967 0-6.018.34-9.155 1.102-3.136.763-6.188 1.695-9.155 2.882-.678.34-1.271.508-1.695.593-.424.085-.678.17-.933.17-1.017 0-1.525-.678-1.525-2.12V11.07c0-1.102.17-1.95.593-2.458.424-.509 1.187-1.017 2.373-1.525 2.967-1.526 6.527-2.797 10.68-3.814C25.525 2.203 29.847 1.78 34.424 1.78c10.088 0 17.462 2.288 22.21 6.866 4.662 4.578 7.036 11.528 7.036 20.853v27.465l-.17.17-.17.17-1.017.17-.593-.085-.763-.34-.34-.509-.254-.678.034-.848zm-34.425 12.885c2.797 0 5.68-.508 8.731-1.525 3.052-1.017 5.765-2.882 8.054-5.425 1.356-1.526 2.374-3.221 2.882-5.17.509-1.95.848-4.323.848-7.12v-3.391c-2.458-.593-5.085-1.102-7.799-1.44a63.146 63.146 0 00-7.883-.51c-5.68 0-9.834 1.103-12.63 3.392-2.798 2.289-4.154 5.51-4.154 9.749 0 3.899 1.017 6.781 3.137 8.816 2.035 2.12 5.002 3.137 8.816 3.137l-.002.488zM141.39 77.205c-1.271 0-2.12-.17-2.713-.593-.593-.34-1.102-1.187-1.525-2.374L115.45 7.256c-.424-1.271-.678-2.12-.678-2.628 0-1.017.509-1.61 1.526-1.61h8.307c1.356 0 2.289.169 2.797.592.594.34 1.017 1.187 1.44 2.374l15.089 59.457 13.987-59.457c.34-1.271.763-2.035 1.356-2.374.593-.424 1.61-.593 2.882-.593h6.781c1.356 0 2.289.17 2.882.593.594.34 1.102 1.187 1.356 2.374l14.156 60.22L202.65 6.069c.424-1.271.933-2.035 1.441-2.374.593-.424 1.525-.593 2.797-.593h7.884c1.017 0 1.61.508 1.61 1.61 0 .339-.085.678-.17 1.102-.084.424-.254 1.017-.508 1.78l-21.955 66.917c-.424 1.272-.933 2.035-1.526 2.374-.593.34-1.525.594-2.712.594h-7.29c-1.357 0-2.289-.17-2.883-.594-.593-.424-1.102-1.187-1.355-2.458l-13.902-57.93-13.818 57.845c-.339 1.271-.762 2.034-1.355 2.458-.593.424-1.61.593-2.882.593h-7.29v.33zm95.506 1.78c-4.408 0-8.816-.508-13.054-1.525-4.239-1.017-7.545-2.12-9.749-3.391-1.356-.763-2.289-1.61-2.628-2.374a5.983 5.983 0 01-.508-2.373v-3.306c0-1.441.594-2.12 1.695-2.12.424 0 .848.085 1.271.254.424.17 1.102.509 1.865.848 2.543 1.187 5.34 2.12 8.307 2.797 3.052.678 6.018 1.017 9.07 1.017 4.832 0 8.562-.848 11.19-2.543 2.627-1.695 3.984-4.153 3.984-7.29 0-2.119-.678-3.899-2.035-5.34-1.356-1.44-3.984-2.712-7.799-3.899l-11.19-3.475c-5.68-1.78-9.918-4.408-12.546-7.883-2.627-3.391-3.984-7.205-3.984-11.274 0-3.306.678-6.188 2.035-8.731 1.356-2.543 3.136-4.747 5.34-6.527 2.204-1.865 4.747-3.221 7.714-4.153C225.95 2.542 229.171 2.034 232.563 2.034c1.695 0 3.475.085 5.17.339 1.78.254 3.39.593 4.917.933 1.44.424 2.797.848 4.068 1.356 1.272.509 2.205 1.017 2.798 1.526.848.593 1.44 1.187 1.78 1.865.338.593.508 1.356.508 2.289v3.052c0 1.44-.594 2.203-1.695 2.203-.594 0-1.526-.254-2.713-.763-3.984-1.78-8.477-2.712-13.478-2.712-4.408 0-7.884.678-10.342 2.119-2.458 1.44-3.73 3.645-3.73 6.697 0 2.12.763 3.899 2.289 5.34 1.525 1.44 4.407 2.882 8.561 4.153l10.935 3.474c5.595 1.78 9.664 4.239 12.122 7.375 2.458 3.052 3.645 6.612 3.645 10.596 0 3.39-.678 6.442-2.035 9.155-1.44 2.713-3.39 5.086-5.849 6.951-2.458 1.95-5.425 3.39-8.816 4.408-3.56 1.102-7.29 1.61-11.359 1.61z" />
            <path d="M230.993 120.964c-27.888 20.599-68.408 31.534-103.247 31.534-48.827 0-92.821-18.056-126.05-48.064-2.628-2.374-.255-5.594 2.881-3.73 35.942 20.854 80.276 33.484 126.136 33.484 30.94 0 64.932-6.442 96.212-19.665 4.662-2.12 8.646 3.052 4.068 6.441z" />
            <path d="M242.317 108.079c-3.56-4.577-23.566-2.204-32.636-1.102-2.713.339-3.136-2.035-.678-3.814 15.936-11.19 42.13-7.968 45.181-4.238 3.052 3.814-.849 30.009-15.767 42.554-2.288 1.95-4.492.933-3.475-1.61 3.39-8.393 10.935-27.296 7.375-31.79z" />
        </svg>
    )
}

function GitIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.66 2.66c.645-.222 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.72.719-1.885.719-2.604 0-.545-.545-.676-1.342-.4-2.01l-2.48-2.48v6.53c.175.087.34.202.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.544-.544-.676-1.343-.4-2.011L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187" />
        </svg>
    )
}

function BurpIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2V7zm0 8h2v2h-2v-2z" />
        </svg>
    )
}

function WiresharkIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
        </svg>
    )
}

function MetasploitIcon() {
    return (
        <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" />
        </svg>
    )
}
